!function(){function e(e,n,t,r,l,u,a){try{var i=e[u](a),o=i.value}catch(c){return void t(c)}i.done?n(o):Promise.resolve(o).then(r,l)}System.register(["./vendor-legacy.4133a91d.js","./index-legacy.ccb8f22b.js"],(function(n){"use strict";var t,r,l,u,a,i,o,c,d,s,m,p,f,v,g,h;return{setters:[function(e){t=e.d,r=e.f,l=e.g,u=e.o,a=e.c,i=e.x,o=e.b,c=e.l,d=e.q,s=e.k,m=e.h,p=e.i,f=e.S,v=e.X,g=e.s},function(e){h=e.u}],execute:function(){var y={class:"w-300px"},V=d("上传"),x={class:"flex flex-wrap"},w=t({props:{modelValue:{type:Array,required:!0},showUpload:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:10},params:{type:Object,required:!1,default:function(){return{}}},hideDel:{type:Boolean,required:!1}},emits:["update:modelValue","did"],setup:function(n,t){var v=t.emit,g=n,w=r(!1),b=r(null),k=[],U=function(e){var n,t=null!==(n=e.target.files)&&void 0!==n?n:[],r=g.modelValue.length;if(r+t.length>g.limit)return v("update:modelValue",g.modelValue.concat(Array.from(t).slice(0,g.limit-r).map((function(e){return k.push(e),URL.createObjectURL(e)})))),void f.warning("最多只能上传".concat(g.limit,"张"));v("update:modelValue",g.modelValue.concat(Array.from(t).map((function(e){return k.push(e),URL.createObjectURL(e)}))))},q=function(){!w.value&&b.value.addEventListener("change",U)&&(w.value=!0),b.value.click()},R=function(){var n,t=(n=regeneratorRuntime.mark((function e(){var n,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FormData,k.forEach((function(e,t){return n.append("img"+t,e)})),e.next=4,h(g.params,n);case 4:t=e.sent,v("did",t);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(l,u){var a=n.apply(t,r);function i(n){e(a,l,u,i,o,"next",n)}function o(n){e(a,l,u,i,o,"throw",n)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return function(e,t){var r=l("el-button"),f=l("el-image");return u(),a(m,null,[i(" 图片上传组件 "),o("div",y,[o("input",{ref:b,type:"file",accept:"image/*",name:"img",multiple:n.limit>1,hidden:""},null,8,["multiple"]),o("div",null,[n.showUpload?(u(),a(r,{key:0,type:"primary",icon:"el-icon-picture",disabled:n.modelValue.length>=10,onClick:q},{default:c((function(){return[d(" 点击选取图片（不超过"+s(n.limit)+"张） ",1)]})),_:1},8,["disabled"])):i("v-if",!0),o(r,{type:"success",icon:"el-icon-upload",onClick:R},{default:c((function(){return[V]})),_:1})]),o("div",x,[(u(!0),a(m,null,p(n.modelValue,(function(e,t){return u(),a("div",{key:e+"9527"+t,class:"relative"},[o(f,{src:e,"preview-src-list":n.modelValue,lazy:"",class:"w-50px h-50px mr-5px mt-5px"},null,8,["src","preview-src-list"]),n.hideDel?i("v-if",!0):(u(),a(r,{key:0,icon:"el-icon-delete",type:"danger",circle:"",class:"absolute transform scale-65 right-0",onClick:function(n){return function(e){var n=g.modelValue.indexOf(e);k.splice(n,1),g.modelValue.splice(n,1),v("update:modelValue",g.modelValue)}(e)}},null,8,["onClick"]))])})),128))])])],2112)}}}),b=n("default",t({name:"ImgUpload",components:{YoungImgUpload:w},setup:function(){for(var e=r([]),n=r([]),t=0;t<10;t++)n.value.push({top:100+Math.floor(600*Math.random()),start:1700+Math.floor(3e3*Math.random()),color:"gray"});return{danmus:n,imgs:e}}})),k=d("来了老弟");b.render=function(e,n,t,r,i,c){var d=l("young-img-upload"),s=v("pin");return u(),a(m,null,[(u(!0),a(m,null,p(e.danmus,(function(e,n){return u(),a("div",{key:n},[g(o("h1",null,[k],512),[[s,e]])])})),128)),o(d,{modelValue:e.imgs,"onUpdate:modelValue":n[1]||(n[1]=function(n){return e.imgs=n})},null,8,["modelValue"])],64)}}}}))}();
