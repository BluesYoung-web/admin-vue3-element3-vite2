function asyncGeneratorStep(e,n,t,i,r,o,a){try{var u=e[o](a),l=u.value}catch(c){return void t(c)}u.done?n(l):Promise.resolve(l).then(i,r)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(i,r){var o=e.apply(n,t);function a(e){asyncGeneratorStep(o,i,r,a,u,"next",e)}function u(e){asyncGeneratorStep(o,i,r,a,u,"throw",e)}a(void 0)}))}}var __vite_style__=document.createElement("style");__vite_style__.innerHTML=".upload[data-v-d0269bc2]{width:300px}.img[data-v-d0269bc2]{width:50px;height:50px;margin-right:5px;margin-top:5px}.contextmenu[data-v-d0269bc2]{margin:0;background:#fff;z-index:3000;position:absolute;list-style-type:none;padding:0;border-radius:4px;font-size:12px;font-weight:400;color:#333;box-shadow:2px 2px 3px 0 rgba(0,0,0,.3)}.contextmenu li[data-v-d0269bc2]{margin:0;padding:0;color:red;cursor:pointer}.contextmenu li[data-v-d0269bc2]:hover{background:#eee}",document.head.appendChild(__vite_style__),System.register(["./vendor-legacy.76bc921b.js","./index-legacy.7f485195.js"],(function(e){"use strict";var n,t,i,r,o,a,u,l,c,d,s,p,m,f,v,g,y,h,b,x,_;return{setters:[function(e){n=e.d,t=e.f,i=e.C,r=e.y,o=e.p,a=e.a,u=e.g,l=e.o,c=e.c,d=e.u,s=e.b,p=e.m,m=e.i,f=e.F,v=e.h,g=e.A,y=e.n,h=e.v,b=e.w,x=e.U},function(e){_=e.u}],execute:function(){var k=n({name:"YoungImgUpload",props:{limit:{type:Number,default:10},comTask:{type:Object,default:function(){return{}}},imgs:{type:Object,required:!0},showUpload:{type:Boolean,default:!0}},emits:["update:imgs","did"],setup:function(e,n){var o=n.emit,a=t(!1),u=t(!1),l=t(0),c=t(0),d="",s=t(null),p=[],m=function(){return u.value=!1};i((function(){u.value?document.body.addEventListener("click",m):document.body.removeEventListener("click",m)}));var f=function(n){var t,i=null!==(t=n.target.files)&&void 0!==t?t:[];e.imgs.length+i.length>e.limit?r.warning("最多只能上传".concat(e.limit,"张")):o("update:imgs",e.imgs.concat(Array.from(i).map((function(e){return p.push(e),URL.createObjectURL(e)}))))};return{addedListener:a,visible:u,top:l,left:c,toBeDel:d,imgRef:s,choseImg:function(){!a.value&&s.value.addEventListener("change",f)&&(a.value=!0),s.value.click()},openMenu:function(e,n){d=n;c.value=e.clientX-105-120,l.value=e.clientY,u.value=!0},del:function(){var n=e.imgs.indexOf(d);p.splice(n,1),e.imgs.splice(n,1),o("update:imgs",e.imgs),u.value=!1},uploadHandler:function(){var n=_asyncToGenerator(regeneratorRuntime.mark((function n(){var t,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=new FormData,p.forEach((function(e,n){return t.append("img"+n,e)})),n.next=4,_(e.comTask,t);case 4:i=n.sent,o("did",i);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()}}}),w=b();o("data-v-d0269bc2");var C={class:"upload"},U=p("上传");a();var L=w((function(e,n,t,i,r,o){var a=u("el-button"),b=u("el-image");return l(),c(f,null,[d(" 图片上传组件 "),s("div",C,[s("input",{ref:"imgRef",type:"file",name:"img",multiple:e.limit>1,hidden:""},null,8,["multiple"]),s("div",null,[e.showUpload?(l(),c(a,{key:0,type:"primary",icon:"el-icon-picture",disabled:e.imgs.length>=10,onClick:e.choseImg},{default:w((function(){return[p(" 点击选取图片（不超过"+m(e.limit)+"张） ",1)]})),_:1},8,["disabled","onClick"])):d("v-if",!0),s(a,{type:"success",icon:"el-icon-upload",onClick:e.uploadHandler},{default:w((function(){return[U]})),_:1},8,["onClick"])]),(l(!0),c(f,null,v(e.imgs,(function(n,t){return l(),c(b,{key:n+"9527"+t,src:n,"preview-src-list":e.imgs,lazy:"",class:"img",onContextmenu:g((function(t){return e.openMenu(t,n)}),["prevent"])},null,8,["src","preview-src-list","onContextmenu"])})),128)),y(s("ul",{style:{left:e.left+"px",top:e.top+"px"},class:"contextmenu"},[s("li",{onClick:n[1]||(n[1]=function(){return e.del&&e.del.apply(e,arguments)})},"删除")],4),[[h,e.visible]])])],2112)}));k.render=L,k.__scopeId="data-v-d0269bc2";var M=e("default",n({name:"ImgUpload",components:{YoungImgUpload:k},setup:function(){for(var e=t([]),n=t([]),i=0;i<10;i++)n.value.push({top:100+Math.floor(600*Math.random()),start:1700+Math.floor(3e3*Math.random()),color:"gray"});return{danmus:n,imgs:e}}})),I=p("来了老弟");M.render=function(e,n,t,i,r,o){var a=u("young-img-upload"),d=x("pin");return l(),c(f,null,[(l(!0),c(f,null,v(e.danmus,(function(e,n){return l(),c("div",{key:n},[y(s("h1",null,[I],512),[[d,e]])])})),128)),s(a,{imgs:e.imgs,"onUpdate:imgs":n[1]||(n[1]=function(n){return e.imgs=n})},null,8,["imgs"])],64)}}}}));
