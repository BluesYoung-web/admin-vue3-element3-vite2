!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function t(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function r(e,n,t,r,a,o,l){try{var i=e[o](l),u=i.value}catch(d){return void t(d)}i.done?n(u):Promise.resolve(u).then(r,a)}function a(e){return function(){var n=this,t=arguments;return new Promise((function(a,o){var l=e.apply(n,t);function i(e){r(l,a,o,i,u,"next",e)}function u(e){r(l,a,o,i,u,"throw",e)}i(void 0)}))}}var o=document.createElement("style");o.innerHTML=".index .tjglyFat .disF[data-v-15e4ada8]{margin-bottom:10px;display:flex}.index .tjglyFat .disF>span[data-v-15e4ada8]{width:80px;min-width:80px;line-height:32px;text-align:right;margin-right:15px}.index .tjglyFat .disF .switchTop[data-v-15e4ada8]{margin-top:6px}.index .tjglyFat .el-input__suffix-inner[data-v-15e4ada8]{margin-right:0!important}.index .tjglyFat .mar7[data-v-15e4ada8]{margin-top:7px}.checkssss .el-checkbox__label[data-v-15e4ada8]{color:#606266!important}.len[data-v-15e4ada8]{width:220px}.pd[data-v-15e4ada8]{height:60vh;overflow:auto}",document.head.appendChild(o),System.register(["./vendor-legacy.4133a91d.js","./system-legacy.d37d12ca.js","./index-legacy.ccb8f22b.js"],(function(t){"use strict";var r,o,l,i,u,d,c,s,f,p,m,v,h,_,y,b,g,w,x,V,I,k;return{setters:[function(e){r=e.d,o=e.f,l=e.I,i=e.F,u=e.S,d=e.p,c=e.a,s=e.g,f=e.o,p=e.c,m=e.b,v=e.x,h=e.q,_=e.k,y=e.w},function(e){b=e.b,g=e.c,w=e.f,x=e.h,V=e.i},function(e){I=e.a,k=e.d}],execute:function(){var F=t("default",r({name:"Role",components:{YoungDialog:I},setup:function(){var t=o({autoid:0,role_name:"",role_desc:"",parent_role_id:0,is_enable:1,platform_type:0,role_access:""}),r=o([]),d=o([]),c=o(!1),s=o(!1),f=o(!1),p=function(){var e=a(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:n=e.sent,r.value=k(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();l((function(){return p()}));var m=function(){var e=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.value=!0;case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=new Map,h=function e(t){var r,a=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,i=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){u=!0,l=e},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw l}}}}(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;v.set(o.autoid,o),o.part.length>0&&e(o.part)}}catch(l){a.e(l)}finally{a.f()}},_=function(){var e=a(regeneratorRuntime.mark((function e(n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(n.autoid);case 2:return r=e.sent,e.next=5,r.nodeList;case 5:a=e.sent,d.value=k(a),h(d.value),t.value=n,f.value=!0;case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),y=function(){c.value=!1,s.value=!1,f.value=!1,t.value={autoid:0,role_name:"",role_desc:"",role_access:"",parent_role_id:0,is_enable:1,platform_type:0},r.value=[],p()},I=function(){var e=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.value){e.next=6;break}return e.next=3,x(t.value);case 3:u.success("角色添加成功！"),e.next=9;break;case 6:return e.next=8,V(t.value);case 8:u.success("角色修改成功！");case 9:y();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function e(n,t){0!==n.length&&n.forEach((function(n){n.is_checked&&t.add(n.autoid),e(n.part,t)}))};return{tableData:r,nodeList:d,formInfo:t,isAddInfo:c,isEditInfo:s,isEditPriority:f,add:m,editInfo:function(e){t.value=e,s.value=!0},editPriority:_,del:function(e){i.confirm("确认删除该角色？","提示",{type:"warning"}).then(a(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w(e.autoid);case 2:u.success("删除成功！"),p();case 4:case"end":return n.stop()}}),n)})))).catch((function(){return null}))},sure:I,clear:y,selectChange:function e(n){if(0!==n.part.length&&n.part.forEach((function(t){t.is_checked=n.is_checked,e(t)})),n.is_checked)for(;n.parent_id;){var t=v.get(n.parent_id);if(!t)break;(n=t)&&(n.is_checked=1)}},surePriority:function(){var n=new Set;F(d.value,n),t.value.role_access=e(n).join(","),I()}}}})),C=y();d("data-v-15e4ada8");var j={class:"index"},S={class:"caozuoFat"},U=h("添加角色"),E=h("信息编辑"),A=h("权限编辑"),R=h("删除"),P={class:"tjglyFat"},D={class:"disF"},z=m("span",null,"角色名称",-1),L={class:"disF"},M=m("span",null,"角色描述",-1),T={class:"disF"},H=m("span",null,"父级角色id",-1),O={class:"disF"},q=m("span",null,"禁用|启用",-1),Y={class:"mar7"},$=h("禁用"),B=h("启用"),G={class:"disF"},J=m("span",null,"选择后台",-1),K={class:"mar7"},N=h("管理后台"),Q=h("商户后台"),W={class:"tjglyFat checkssss pd"};c();var X=C((function(e,n,t,r,a,o){var l=s("el-button"),i=s("el-table-column"),u=s("el-switch"),d=s("el-table"),c=s("el-input"),y=s("el-radio"),b=s("young-dialog"),g=s("el-checkbox");return f(),p("div",j,[m("div",S,[m(l,{type:"primary",size:"small",plain:"",onClick:e.add},{default:C((function(){return[U]})),_:1},8,["onClick"])]),v(" 角色列表 "),m(d,{data:e.tableData,style:{width:"100%"},size:"medium",height:"700",class:"tableHet"},{default:C((function(){return[m(i,{prop:"autoid",label:"ID"}),m(i,{prop:"parent_role_id",label:"父角色ID"}),m(i,{prop:"role_name",label:"角色名称"}),m(i,{prop:"role_desc",label:"角色描述"}),m(i,{label:"不启用/启用"},{default:C((function(e){return[m(u,{modelValue:e.row.is_enable,"onUpdate:modelValue":function(n){return e.row.is_enable=n},"active-value":1,"inactive-value":0,"active-color":"#409EFF","inactive-color":"#909399",disabled:""},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),m(i,{label:"操作",width:"300"},{default:C((function(n){return[m(l,{onClick:function(t){return e.editInfo(n.row)}},{default:C((function(){return[E]})),_:2},1032,["onClick"]),m(l,{onClick:function(t){return e.editPriority(n.row)},type:"primary",plain:""},{default:C((function(){return[A]})),_:2},1032,["onClick"]),1!=+n.row.autoid?(f(),p(l,{key:0,type:"danger",onClick:function(t){return e.del(n.row)}},{default:C((function(){return[R]})),_:2},1032,["onClick"])):v("v-if",!0)]})),_:1})]})),_:1},8,["data"]),v(" 信息 添加 | 编辑 "),m(b,{width:"370px","is-add":e.isAddInfo,"is-edit":e.isEditInfo,onSure:e.sure,onClear:e.clear},{body:C((function(){return[m("div",P,[m("div",D,[z,m(c,{modelValue:e.formInfo.role_name,"onUpdate:modelValue":n[1]||(n[1]=function(n){return e.formInfo.role_name=n}),class:"len"},null,8,["modelValue"])]),m("div",L,[M,m(c,{modelValue:e.formInfo.role_desc,"onUpdate:modelValue":n[2]||(n[2]=function(n){return e.formInfo.role_desc=n}),class:"len"},null,8,["modelValue"])]),m("div",T,[H,m(c,{modelValue:e.formInfo.parent_role_id,"onUpdate:modelValue":n[3]||(n[3]=function(n){return e.formInfo.parent_role_id=n}),modelModifiers:{number:!0},disabled:e.isEditInfo,class:"len"},null,8,["modelValue","disabled"])]),m("div",O,[q,m("div",Y,[m(y,{modelValue:e.formInfo.is_enable,"onUpdate:modelValue":n[4]||(n[4]=function(n){return e.formInfo.is_enable=n}),label:0},{default:C((function(){return[$]})),_:1},8,["modelValue"]),m(y,{modelValue:e.formInfo.is_enable,"onUpdate:modelValue":n[5]||(n[5]=function(n){return e.formInfo.is_enable=n}),label:1},{default:C((function(){return[B]})),_:1},8,["modelValue"])])]),m("div",G,[J,m("div",K,[m(y,{modelValue:e.formInfo.platform_type,"onUpdate:modelValue":n[6]||(n[6]=function(n){return e.formInfo.platform_type=n}),label:0},{default:C((function(){return[N]})),_:1},8,["modelValue"]),m(y,{modelValue:e.formInfo.platform_type,"onUpdate:modelValue":n[7]||(n[7]=function(n){return e.formInfo.platform_type=n}),label:1},{default:C((function(){return[Q]})),_:1},8,["modelValue"])])])])]})),_:1},8,["is-add","is-edit","onSure","onClear"]),v(" 权限编辑 "),m(b,{width:"60vw",top:"10vh","is-edit":e.isEditPriority,onSure:e.surePriority,onClear:e.clear},{body:C((function(){return[m("div",W,[m(d,{data:e.nodeList,style:{width:"100%","margin-bottom":"20px"},"row-key":"autoid","default-expand-all":!1,size:"medium","tree-props":{children:"part",hasChildren:"hasChildren"}},{default:C((function(){return[m(i,{prop:"node_name",label:"节点名称",width:"240"},{default:C((function(n){return[m(g,{modelValue:n.row.is_checked,"onUpdate:modelValue":function(e){return n.row.is_checked=e},"true-label":1,"false-label":0,onChange:function(t){return e.selectChange(n.row)}},{default:C((function(){return[h(_(n.row.node_name),1)]})),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]})),_:1}),m(i,{prop:"autoid",label:"ID"}),m(i,{prop:"parent_id",label:"父节点"}),m(i,{prop:"node_path",label:"路径"}),m(i,{prop:"node_desc",label:"节点描述"}),m(i,{prop:"is_show",label:"隐藏/显示"},{default:C((function(e){return[m(u,{modelValue:e.row.is_show,"onUpdate:modelValue":function(n){return e.row.is_show=n},"active-value":1,"inactive-value":0,"active-color":"#409EFF","inactive-color":"#909399",disabled:""},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),m(i,{prop:"node_type",label:"节点级别"})]})),_:1},8,["data"])])]})),_:1},8,["is-edit","onSure","onClear"])])}));F.render=X,F.__scopeId="data-v-15e4ada8"}}}))}();
